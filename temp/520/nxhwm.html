<!DOCTYPE html><html><head><meta http-equiv=Content-Type content="text/html; charset=UTF-8"><meta name=viewport content="width=device-width, user-scalable=no, initial-scale=1.0"><title>你喜欢我吗？</title><style>html,body{width:100%;height:100%;margin:0;overflow:hidden;background:white}body{position:fixed;left:0;top:0;bottom:0;right:0}h1{margin-left:20px}#yes,#no{display:inline-block;width:100px;height:100px;line-height:100px;text-align:center;box-sizing:border-box;outline:1px solid rgba(51, 102, 255, 1);border:1px solid #fff;background:rgba(255, 192, 203, 1);color:#fff;margin:0 20px}#no{background:rgba(129, 216, 207, 1);color:rgba(51, 102, 255, 1);margin:0}#yes:active{opacity:.7;outline:1px solid rgba(255, 192, 203, 1)}#no:active{opacity:1;outline:1px solid rgba(51, 102, 255, 1)}#no.fixed:active{opacity:.7;outline:1px solid rgba(129, 216, 207, 1)}</style></head><body><h1 id=title></h1><div id=yes>喜欢</div><div id=no>不喜欢</div><script src="https://cdn.bootcss.com/zepto/1.0rc1/zepto.min.js"></script><script src=https://unpkg.com/sweetalert/dist/sweetalert.min.js></script><script>function parseURL(t){var e=document.createElement("a");return e.href=t,{source:t,protocol:e.protocol.replace(":",""),host:e.hostname,port:e.port,query:e.search,params:function(){for(var t,o={},n=e.search.replace(/^\?/,"").split("&"),a=n.length,i=0;i<a;i++)n[i]&&(o[(t=n[i].split("="))[0]]=t[1]);return o}(),file:(e.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:e.hash.replace("#",""),path:e.pathname.replace(/^([^\/])/,"/$1"),relative:(e.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:e.pathname.replace(/^\//,"").split("/")}}function uiAlert(t){swal(t,{button:!1})}var params=parseURL(location.href).params,named=1==params.gender?"小哥哥":"小姐姐",totalNoLike=0,maxNoLike=parseInt(params.maxNoLike)||50,$title=$("#title");$title.html(named+"喜欢我吗？");var viewWidth,viewHeight,$no=$("#no"),$yes=$("#yes"),$win=$(window),isTouchNo=!1;function updateViewportSize(){viewWidth=$win.width(),viewHeight=$win.height()}updateViewportSize();var timer=null;function getRandom(t,e){var o=Math.max(t,e),n=Math.min(t,e);return Math.floor(Math.random()*(o-n+1)+n)}function randomPosition(t){for(var e,o,n,a,i=t.offset(),r=i.left||0,s=i.top||0,m=i.width||t.width(),p=i.height||t.height();"number"!=typeof e&&"number"!=typeof o;){var u=getRandom(0,viewWidth-m),h=getRandom(0,viewHeight-p);a=h,((n=u)<r-m||n>r+m||a<s-p||a>s+p)&&(e=u,o=h)}return{left:e,top:o}}function randomPosDom(t){var e=randomPosition(t);t.css({position:"absolute",left:e.left+"px",top:e.top+"px"})}$win.on("resize",function(t){timer=setTimeout(function(){updateViewportSize(),isTouchNo&&randomPosDom($no)},100)}),$(document).on("touchmove",function(t){t.preventDefault()}),$no.on("touchstart mouseenter",function(t){t.preventDefault(),isTouchNo=!0,++totalNoLike>=maxNoLike?$no.addClass("fixed"):randomPosDom($no)}).on("tap click",function(t){totalNoLike>=maxNoLike&&uiAlert("我喜欢你，你却不喜欢我(>﹏<)！")}),$yes.on("touchstart mouseenter",function(t){t.preventDefault()}).on("tap click",function(t){totalNoLike=0,$no.removeClass("fixed"),uiAlert("我也喜欢你，真是太开心了(*^_^*)！")});</script>